<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors!</title>
</head>
<body>
    <script>
         
        let choices= ["Rock", "Paper", "Scissors"];

        function getComputerChoice() {
          let result= choices[(Math.floor(Math.random()* 3))];
          console.log(result);
          return result;
          }

        function getPlayerChoice() {
          let input= prompt("Best out of 5 rounds! What's your choice: Rock, paper, or scissors?");          
          if (input == null || input == undefined || input == "") {
            return prompt("Best out of 5 rounds! What's your choice: Rock, paper, or scissors?");
          }
          input= input[0].toUpperCase() + input.slice(1).toLowerCase();
          console.log(input);
          return input;
          }

        function checkWinner(computerSelection, playerSelection) {
          if (computerSelection === playerSelection) {
             return "Tie"; 
             } 
              else if ((computerSelection == "Rock" && playerSelection == "Scissors") ||
                        (computerSelection == "Paper" && playerSelection == "Rock") ||
                        (computerSelection == "Scissors" && playerSelection == "Paper")) {
                      return "Computer";
                        } else if ((computerSelection == "Scissors" && playerSelection == "Rock") ||
                                   (computerSelection == "Rock" && playerSelection == "Paper") ||
                                   (computerSelection == "Paper" && playerSelection == "Scissors")) {
                      return "Player"; 
                        } else {
                          return null; 
                        }
                      } 
                      
                      let computerSelection= getComputerChoice();
                      let playerSelection= getPlayerChoice();
                       
        function playRound(computerSelection, playerSelection) { 
          let result= checkWinner(computerSelection, playerSelection);
           if (result == "Tie") {
            return "It's a tie!";
           } else if (result == "Player") {
            return "Congrats, you won the round!"; 
           } else if (result == "Computer") { 
            return "Sorry, you lost the round! Try again!"; 
            } else if (result == null) {
              return "Please pick a valid choice!";
            }
          }  

          console.log(playRound(computerSelection, playerSelection)); 
        
        function game() {
          let playerScore= 0; 
          let computerScore= 0;
          for (let i= 0; i < 4; i++) {
            let computerSelection= getComputerChoice();
            let playerSelection= getPlayerChoice();
            console.log(playRound(computerSelection, playerSelection));
            if (checkWinner(computerSelection, playerSelection)== "Player") {
              playerScore++; 
            }
             else if (checkWinner(computerSelection, playerSelection)== "Computer") {
              computerScore++; 
             }
            }
            console.log("Game over!");
            if (playerScore > computerScore) {
              console.log("Great work, you beat the computer!");
            }
            else if (computerScore > playerScore) {
              console.log("The computer has won! You lose!");
            }
            else {
              console.log("Tie! Try again!");
            }
          }
          
          game(); 

    </script>
</body>
</html>